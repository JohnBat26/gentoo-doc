<?xml version="1.0" encoding="UTF-8"?>
<?oxygen RNGSchema="http://www.oasis-open.org/docbook/xml/5.0/rng/docbookxi.rng" type="xml"?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0">
    <info>
        <title>MAN (справки по командам)</title>
    </info>
    <section>
        <title>Emerge</title>
        <section>
            <title>Имя</title>
            <para>emerge - интерфейс командной строки к системе портежей (Portage system) </para>
        </section>
        <section>
            <title>Синтаксис</title>
            <synopsis>emerge [<replaceable>опции</replaceable>] [<replaceable>действие</replaceable>] [<replaceable>ebuild</replaceable> | <replaceable>файл_tbz2</replaceable> | <replaceable>класс</replaceable> | <replaceable>зависимость</replaceable>]...
emerge [<replaceable>опции</replaceable>] [<replaceable>действие</replaceable>] <replaceable>файл_ebuild</replaceable>
emerge sync | rsync 
emerge --help -h [system | config | sync] 
emerge --version </synopsis>
        </section>
        <section>
            <title>Описание</title>
            <para>emerge - это полный интерфейс командной строки к системе портежей. Используется, в основном, для установки пакетов, причем, emerge может автоматически обрабатывать любые зависимости, заданые в требуемом пакете. Утилита emerge может также обновлять дерево портежей, предоставляя доступ к новым и обновленным пакетам. Утилита emerge также обеспечивает беспроблемное обновление версий установленных пакетов. Позволяет работать с пакетами как в виде исходных кодов, так и в двоичном виде, также может использоваться для создания двоичных пакетов с целью дальнейшего распространения. Пакеты EBUILD, файлы TBZ2, классы и зависимости </para>
            <para>Основное назначение утилиты emerge - установка пакетов. Устанавливаемые пакеты можно задать одним из четырех основных способов: как пакет ebuild, как файл tbz2, как класс или как зависимость. </para>
            <variablelist>
                <varlistentry>
                    <term>ebuild</term>
                    <listitem>
                        <para>ebuild необходимо задавать, как минимум, в виде допустимого имени в каталоге пакетов портежей (valid Portage package directory name) без указания версии или категории, например, portage или python. Можно добавить также категорию и номер версии, например, sys-apps/portage или python-2.2.1-r2. Утилита emerge игнорирует завершающую косую черту, так что, можно использовать автоматическое завершение для имён файлов. В качестве значения ebuild можно также задавать реальное имя файла, например, <code>/usr/portage/app-admin/python/python-2.2.1-r2.ebuild</code>. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Файл_tbz2</term>
                    <listitem>
                        <para>Файл_tbz2 должен быть корректным файлом .tbz2, созданным с помощью команды </para>
                        <para><command>ebuild <replaceable>&lt;пакет&gt;</replaceable>-<replaceable>&lt;версия&gt;</replaceable>.ebuild <replaceable>пакет</replaceable></command> или </para>
                        <para><command>emerge --buildpkg [<replaceable>категория</replaceable>/]<replaceable>&lt;пакет&gt;</replaceable></command>, или </para>
                        <para><command>quickpkg /var/db/pkg/<replaceable>&lt;категория&gt;</replaceable>/<replaceable>&lt;пакет&gt;</replaceable></command>. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Класс</term>
                    <listitem>
                        <para>Классы пакетов - удобный способ обозначить большую группу пакетов. В настоящее время поддерживается два класса: system и world. Класс system содержит набор пакетов, считающихся необходимыми для правильной работы системы. Класс world содержит все пакеты в системе плюс все пакеты, перечисленные в файле <filename>/var/cache/edb/world</filename> или <filename>/var/lib/portage/world</filename> (=&gt;portage-2.0.51). Подробнее см. далее в разделе Файлы </para>
                        <para>Учтите, что эти команды обычно используются вместе с <parameter>--update</parameter>. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Зависимость</term>
                    <listitem>
                        <para>Зависимость описывает ограничения на пакет, который будет установлен. Например, &gt;=dev-lang/python-2.2.1-r2 что соответствует последней доступной версии языка Python, большей или равной 2.2.1-r2. Аналогично, &lt;dev-lang/python-2.0 соответствует последней доступной версии языка Python до 2.0. Учтите, что во многих командных интерпретаторах потребуется замаскировать символы вроде '&lt;' и '=' ; чтобы избежать проблем с маскировкой, берите зависимость в одиночные или двойные кавычки. </para>
                    </listitem>
                </varlistentry>
            </variablelist>
        </section>
        <section>
            <title>Действия</title>
            <variablelist>
                <varlistentry>
                    <term>Нет действия</term>
                    <listitem>
                        <para>Если действие не указано, в систему добавляются указанные пакеты и удовлетворяются все их зависимости. В качестве аргументов можно указывать пакеты ebuild, файлы tbz2, классы или зависимости. Учтите, что для установки файла tbz2 необходимо указать опцию --usrpkg. Пакеты добавляются в конце файла world, так что они учитываются при последующих обновлениях. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--clean</term>
                    <term>-c</term>
                    <listitem>
                        <para>Если действие не указано, в систему добавляются указанные пакеты и удовлетворяются все их зависимости. В качестве аргументов можно указывать пакеты ebuild, файлы tbz2, классы или зависимости. Учтите, что для установки файла tbz2 необходимо указать опцию --usrpkg. Пакеты добавляются в конце файла world, так что они учитываются при последующих обновлениях. </para>
                        <para>Очищает систему, удаляя пакеты, не влияющие на функциональность системы. В качестве аргументов можно указывать пакеты build, классы или зависимости. Например, </para>
                        <para><command>emerge clean binutils</command> удаляет старые версии binutils; </para>
                        <para><command>emerge clean net-www/mozilla-0.9.9-r2</command> удаляет указанную версию Mozilla. </para>
                        <para>Использовать эту команду, в общем случае, безопасно. Учтите, что пакеты в единственном экземпляре (unslotted packages) команда clean не удаляет. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--depclean</term>
                    <listitem>
                        <para>Выявляет все пакеты, установленные в системе без видимой причины. Утилита emerge генерирует список пакетов, которые должны быть установлены, на основе списка системных пакетов и файла world. Затем она сравнивает этот список со списком фактически установленных пакетов; найденные различия выдаются как ненужные пакеты, которые предлагается удалить. Предупреждение: Удаление некоторых пакетов может привести к тому, что пакеты, связанные с удаленными, перестанут работать и начнут сообщать о недостающих библиотеках. Снова установите с помощью emerge пакет, который перестал работать, и эта проблема будет решена. Учтите, что изменения флагов USE могут существенно повлиять на результат, выдаваемый при выполнении действия depclean. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--help</term>
                    <term>-h</term>
                    <listitem>
                        <para>Выдает справочную информацию по утилите emerge. Добавление одного из прочих перечисленных дополнительных аргументов приводит к выдаче более детальной справочной информации по соответствующему действию. Встроенная справочная документация утилиты emerge обновляется чаще, чем эта страница справочного руководства; обратитесь к ней при возникновении проблем, которые не поможет решить эта страница справочного руководства. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--info</term>
                    <listitem>
                        <para>Выдает информацию для включения в отчеты об ошибках. Эта информация помогает разработчикам при решении проблем, о которых вы сообщаете. Включайте, пожалуйста, эту информацию при посылке отчета об ошибке. Расширенную информацию можно получить при указании опции <parameter>--verbose</parameter>. </para>
                        <para>При "впрыске" пакета для него вставляется "заглушка" так, что система портежей считает его установленным. Это удобно если необходимо, например, установить двоичную версию XFree86 для нетривиальной видеокарты или просто добавить собственные пакеты. Необходимо указать категорию и конкретную версию вставляемого пакета. Например, emerge inject sys-kernel/gentoo-sources-2.4.19 </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--prune</term>
                    <term>-P</term>
                    <listitem>
                        <warning>
                            <para>Это действие может удалить важные пакеты! Удаляются все, кроме последних, версий соответствующих пакетов. Если для пакета есть несколько слотов, остается только последняя версия в каждом слоте. При этом не происходит проверки зависимостей, поэтому могут быть удалены пакеты, необходимые для нормальной работы системы. Используйте действие clean, если не уверены абсолютно в том, что делаете. В качестве аргуменгтов можно указывать пакеты ebuild, классы или зависимости -- примеры см. в описании действия clean. </para>
                        </warning>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--regen</term>
                    <listitem>
                        <para>Вызывает проверку и обновление кеша зависимостей для всех пакетов ebuild в дереве портежей. Кеш используется для ускорения поиска и построения деревьев зависимостей. Эта команда не рекомендуется для пользователей rsync, поскольку rsync обновляет кеш, используя кеши на сервере. Если вы не знаете, чем отличается "пользователь rsync" от других пользователей, значит, вы - "пользователь rsync" :). Пользователи rsync должны просто выполнить команду emerge sync для регенерации кеша. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--search</term>
                    <term>-s</term>
                    <listitem>
                        <para>Ищет соответствия переданной строке в дереве портежей. Искомая строка представляет собой регулярное выражение. Например, команда </para>
                        <para><command>emerge search "^kde"</command> ищет любой пакет, имя которого начинается с "kde"; </para>
                        <para><command>emerge search "gcc$"</command> ищет любой пакет, имя которого заканчивается на "gcc"; </para>
                        <para><command>emerge search "office"</command> ищет любой пакет, имя которого содержит слово "office". </para>
                        <para>Если поиск необходимо выполнять и в описании пакета, используйте опцию <parameter>--searchdesc</parameter> или <parameter>-S</parameter>. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--sync</term>
                    <listitem>
                        <para>Инициирует обновление дерева портежей с одного из зеркал rsync.gentoo.org. Учтите, что любые изменения, выполненные в дереве портежей, при этом будут стерты. За исключением специальных случаев, для обновления используется rsync. Чтобы узнать, как избежать удаления изменения, см. описание PORTDIR_OVERLAY на странице справочного руководства make.conf(5). </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--unmerge</term>
                    <term>-C</term>
                    <listitem>
                        <warning>
                            <para>При этом могут быть удалены важные пакеты! Удаляются все соответствующие пакеты. Проверка зависимостей не выполняется, поэтому могут быть удалены пакеты, необходимые для нормальной работы системы. В качестве аргументов можно задавать пакеты ebuild, классы или зависимости - примеры см. выше в описании clean. </para>
                        </warning>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--ask</term>
                    <term>-a</term>
                    <listitem>
                        <para/>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--buildpkg</term>
                    <term>-b</term>
                    <listitem>
                        <para>Говорит emerge о необходимости построить двоичные пакеты для всех соответствующих пакетов ebuild, помимо их обычного добавления в дерево. Полезно для тех, кто занимается поддержкой пакетов или при администрировании нескольких систем Gentoo Linux (строим один раз, устанавливаем пакеты tbz2 с помощью emerge везде). Пакет будет создан в каталоге ${PKGDIR}/All. В качестве альтернативы для уже включенных в дерево пакетов можно использовать опцию quickpkq, которая создает пакеты tbz2 из "живой" файловой системы. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--buildpkgonly</term>
                    <term>-B</term>
                    <listitem>
                        <para>Создает двоичные пакеты для всех обработанных пакетов ebuild, не включая их фактически в дерево пакетов. Проблема только в том, что все зависимости времени построения уже должны быть включены в систему с помощью emerge. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--changelog</term>
                    <term>-l</term>
                    <listitem>
                        <para>Используйте эту опцию вместе с действием --pretend. В результате, будут показаны записи ChangeLog для всех пакетов, которые будут обновляться. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--columns</term>
                    <listitem>
                        <para>При использовании совместно с <parameter>--pretend</parameter> выдает имена пакетов, новую и старую версию выравненными по столбцам для простоты вырезания и копирования. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--debug</term>
                    <term>-d</term>
                    <listitem>
                        <para>Требует от emerge работать в отладочном режиме. В этом режиме среда построения bash будет работать с опцией -x, выдавая детальную отладочную информацию в стандартных выходной поток. Опция --debug отлично подходит для поиска синтаксических ошибок bash. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--deep</term>
                    <term>-D</term>
                    <listitem>
                        <para>При использовании совместно с опцией <parameter>--update</parameter>, этот флаг требует от emerge учитывать все дерево зависимостей пакетов, а не просто проверять непосредственные зависимости пакетов. Это, например, позволяет учесть обновления в библиотеках, не перечисленных явно в зависимостях пакета. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--emptytree</term>
                    <term>-e</term>
                    <listitem>
                        <para>Создает видимость того, что дерево установленных пакетов содержит только glibc; эту опцию стоит использовать совместно с <parameter>--pretend</parameter>. Она позволяет разработчикам получить полное представление о дереве всех зависимостей пакета и перестраивать деревья в целом с использованием новейших версий библиотек. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--fetchonly</term>
                    <term>-f</term>
                    <listitem>
                        <para>Вместо создания(установки) пакета, просто выбирает(скачивает, загружает) (fetches) в ../distfiles все пакеты (главный пакет и все его зависимости).</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--fetch-all-uri</term>
                    <term>-F</term>
                    <listitem>
                        <para/>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--getbinpkg</term>
                    <term>-g</term>
                    <listitem>
                        <para/>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--getbinpkg</term>
                    <term>-G</term>
                    <listitem>
                        <para/>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--help</term>
                    <term>-h</term>
                    <listitem>
                        <para/>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--newuse</term>
                    <term>-N</term>
                    <listitem>
                        <para>используя совместно с опцией <parameter>--update</parameter>, позволяет проверить(и переустановить) все пакеты, флаги которых на данный момент были изменены в <filename>/etc/make.conf</filename>.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--noconfmem</term>
                    <listitem>
                        <para>Требует от портежей не учитывать записи слияния, показывающий, что файл конфигурации в каталоге CONFIG_PROTECT уже был включен в дерево. Система портежей обычно будет включать такие файлы только раз, чтобы не заставлять пользователя возиться с одной и той же конфигурацией несколько раз. Этот флаг приведет к включению файла конфгиурации каждый раз. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--nodeps</term>
                    <term>-O</term>
                    <listitem>
                        <para>Включает указанные пакеты, не включая зависимости. Учтите, что процесс построения может закончиться неудачно, если зависимости окажутся не удовлетворенными. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--noreplace</term>
                    <term>-n</term>
                    <listitem>
                        <para>Пропускает указанные в командной строке пакеты, если они уже были установлены. Без этой опции любые указанные в командной строке пакеты, пакеты ebuild или зависимости будут приводить к повторному включению соответствующего пакета системой Portage, даже если он уже установлен. Учтите, что зависимости система Portage по умолчанию повторно не включает. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--nospinner</term>
                    <listitem>
                        <para>Отключает для сеанса "крутилку" (spinner). "Крутилка" активируется, если команда подана с терминала (TTY). Этот флаг отключает ее, независимо от устройства. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--oneshot</term>
                    <listitem>
                        <para>Включает пакеты как обычно, но не добавляет в профиль world с целью дальнейшего обновления. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--onlydeps</term>
                    <term>-o</term>
                    <listitem>
                        <para>Включает (или делает вид, что включает) зависимости указанных пакетов, а не сами пакеты. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--pretend</term>
                    <term>-p</term>
                    <listitem>
                        <para>Вместо реального включения просто показывает, что должно устанавливаться, если не указать --pretend. Использование опции --pretend настоятельно рекомендуется перед установкой любого незнакомого пакета. В выдаваемом результате: </para>
                        <para>N = новый </para>
                        <para>U = обновление </para>
                        <para>R = замена </para>
                        <para>B = блокируется уже установленным пакетом. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--quiet</term>
                    <term>-q</term>
                    <listitem>
                        <para>Результаты могут отличаться, но, в общем случае, объем выдаваемых системой портежей результатов сокращается или выдача уплотняется. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--resume</term>
                    <listitem>
                        <para>Возобновляет последнее действие по включению пакетов. Учтите, пожалуйста, что возобновить можно только действие, закончившиеся с ошибкой из-за сбоя. Если делать нечего, будет просто выдано сообщение об успешном выполнении. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--searchdesc</term>
                    <term>-S</term>
                    <listitem>
                        <para>Сопоставляет строку поиска с полем описания и именем пакета. Учтите, что сопоставление с регулярным выражением ведется и в описании пакета. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--skipfirst</term>
                    <listitem>
                        <para>Это действие допустимо только совместно с <parameter>--resume</parameter>. Оно удаляет первый пакет в списке кандидатов на возобновление установки, так, чтобы включение могло продолжиться даже при наличии неисправимой или несущественной ошибки. Эту опцию надо использовать только в случаях, когда пропуск пакета не нарушает зависимости.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--tree</term>
                    <term>-t</term>
                    <listitem>
                        <para/>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--update</term>
                    <term>-u</term>
                    <listitem>
                        <para>Обновляет пакеты до самой новой из доступных версий. Учтите, что <parameter>--update</parameter> еще не обладает всеми необходимыми возможностями. Он не будет автоматически обновлять зависимости пакетов в файле world, если их самих там еще нет. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--upgradeonly</term>
                    <term>-U</term>
                    <listitem>
                        <para>Обновляет пакеты, исключая обновления, приводящие к понижению версии устанавливаемого пакета. Слоты (SLOTs) учитываются на простейшем уровне. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--usepkg</term>
                    <term>-k</term>
                    <listitem>
                        <para>Требует от emerge использовать двоичные пакеты (из каталога $PKGDIR), если они есть, избегая этим, по возможности, продолжительных компиляций. Эта опция полезна для установок с компакт-дисков; можно выполнить export PKGDIR=/mnt/cdrom/packages, а затем использовать эту опцию, чтобы emerge "вытягивала" пакеты с CD для удовлетворения зависимостей. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--usepkgonly</term>
                    <term>-K</term>
                    <listitem>
                        <para>Работает так же, как и <parameter>--usepkg</parameter>, но включает только двоичные пакеты. Все необходимые двоичные пакеты должны быть доступны на момент проверки зависимостей или emerge просто прекратит работу. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--verbose</term>
                    <term>-v</term>
                    <listitem>
                        <para>Требует от emerge работать в многословном (verbose) режиме. В настоящее время этот флаг приводит к тому, что emerge выдает сообщения об ошибках GNU info, если они будут. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>--version</term>
                    <term>-V</term>
                    <listitem>
                        <para>Выдает номер версии emerge. Эту опцию нельзя сочетать с другими; имя и формат действия при этом не важны. </para>
                    </listitem>
                </varlistentry>
            </variablelist>
        </section>
        <section>
            <title>Выдаваемые результаты</title>
            <para>При использовании emerge с флагами pretend/verbose, результаты на первый взгляд могут показаться сложными для понимания. Этот раздел объясняет, что означает вся эта "стенографическая" информация. </para>
            <variablelist>
                <varlistentry>
                    <term>[blocks B ]</term>
                    <listitem>
                        <para><code>[blocks B ] app-text/dos2unix (from pkg app-text/hd2u-0.8.0)</code></para>
                        <para>Пакет Dos2unix блокирует включение в дерево пакета hd2u. Блокирование выявляется, когда два пакета перекрываются по файлам или могут вызвать те или иные повреждения в системе. Однако обычно включать одновременно блокирующие друг друга пакеты не нужно, поскольку обычно они обеспечивают одинаковые возможности. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>[ebuild N ]</term>
                    <listitem>
                        <para><code>[ebuild N ] app-games/qstat-25c</code></para>
                        <para>Пакет Qstat - новый в вашей системе и будет включаться в дерево с помощью emerge впервые. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>[ebuild R ]</term>
                    <listitem>
                        <para><code>[ebuild R ] sys-apps/sed-4.0.5</code></para>
                        <para>Пакет sed 4.0.5 уже был включен, но если выполнить команду еще раз, система портежей повторно включит этот пакет (в данном случае, sed). </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>[ebuild F ]</term>
                    <listitem>
                        <para><code>[ebuild F ] media-video/realplayer-8-r6</code></para>
                        <para>Пакет realplayer требует, чтобы вы загрузили исходники вручную. При попытке включить пакет в дерево, если исходные тексты пакета не найдены, система портежей остановится и выдаст инструкции о том, как загрузить недостающие файлы. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>[ebuild U ]</term>
                    <listitem>
                        <para><code>[ebuild U ] net-fs/samba-2.2.8_pre1 [2.2.7a]</code></para>
                        <para>Пакет Samba 2.2.7a уже был включен и может быть обновлен до версии 2.2.8_pre1. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>[ebuild UD]</term>
                    <listitem>
                        <para><code>[ebuild UD] media-libs/libgd-1.8.4 [2.0.11]</code></para>
                        <para>Пакет Libgd 2.0.11 уже был включен, но если выполнить команду, система портежей автоматически понизит (Downgrade) версию пакета до 1.8.4. Это может произойти, если более новая версия пакета была замаксирована, поскольку оказалась поврежденной или создает угрозу защите системы, а исправление еще не выпущено. </para>
                        <para>Еще это может произойти потому, что пакет, который вы пытаетесь включить с помощью emerge требует для успешного включения более старую версию пакета. В данном случае, библиотека libgd 2.x несовместима с libgd 1.x. Это означает, что пакеты, созданные с использованием libgd 1.x, не скомпилируются с версией 2.x, и ее надо понизить, прежде чем удастся эти пакеты успешно установить. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>[ebuild U-]</term>
                    <listitem>
                        <para><code>[ebuild U-] x11-base/xfree-4.3.0 [4.2.99.902]</code></para>
                        <para>Дефис (-) представляет отсутствие информации о слоте (SLOT information) пакета Xfree. Это происходит, когда предыдущая версия была просто "впрыснута" (подробнее см. описание действия inject, или оказалась настолько старой, что соответствующий слот не существует. В любом случае, более новая версия Xfree доступна для обновления. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>[ebuild U ]</term>
                    <listitem>
                        <para>[ebuild U ] net-analyzer/nmap-3.15_beta2 [3.15_beta1] -gtk -gnome </para>
                        <para>Значения -gtk и -gnome отражают статус USE-переменных при включении пакета nmap. Здесь мы видим, что nmap может использовать USE-переменные gtk и gnome, но в текущих установках переменные gtk и gnome отключены. Поэтому дополнительная поддержка gtk и gnome не будет включена в nmap при его установке. </para>
                        <note>
                            <para>Статус USE выдается только если используются опции --pretend и --verbose. </para>
                        </note>
                    </listitem>
                </varlistentry>
            </variablelist>
        </section>
        <section>
            <title>Примечания</title>
            <para>Практически всегда надо перед любой попыткой установки или обновления выполнять ее же, но с опцией --pretend. Это позволяет увидеть, что будет сделано, а также выявить блокирующие пакеты, которые надо будет предварительно удалить. Это тем более важно для классов system и world, которые могут вызвать обновление большого количества пакетов, если дерево портежей было достаточно активно. </para>
            <para>Обычно также имеет смысл использовать опцию <parameter>--update</parameter>, которая позволяет игнорировать уже полностью обновленные пакеты, но обновлять при этом все остальные. При установке пакета с неустановленными зависимостями, если зависимости эти не указаны явно в списке параметров, они не будут добавляться в файл world. Если необходимо внести зависимости в файл world для дальнейшего обновления, не забудьте явно указать их в качестве параметров emerge. </para>
            <para>В командной строке можно указывать USE-переменные, переопределяющие значения, указанные в стандартных местах, что позволяет избежать использования ряда нежелательных зависимостей. Флаги USE, заданные в командной строке, НЕ запоминаются. Например, команда </para>
            <screen>USE="-x -gnome" emerge mc </screen>
            <para>установит пакет mc с указанными установками USE. </para>
            <para>Если команда <command>emerge --update system</command> или <command>emerge --update world</command> не сработает с выдачей сообщений об ошибках, причина может быть в том, что пакет ebuild использует новую возможность, которой нет в этой версии утилиты emerge. Можно сначала выполнить <command>emerge --update portage</command> для обновления до последней версии, которая должна поддерживать любые необходимые новые возможности. </para>
        </section>
        <section>
            <title>Masked packages</title>
            <para>Примечание: Будьте осторожны при использовании пакетов, находящихся в стадии разработки. Проблемы и ошибки, возникающие в результате неправильного использования замаскированных пакетов, приводят к напрасной трате времени разработчиков Gentoo. Подумайте заранее, сможете ли справиться с проблемами, которые могут возникнуть. </para>
            <para>Маски в системе портежей обеспечивают три основные функции: они позволяют задать период тестирования, в течение которого пакеты могут использоваться на машинах; они предотвращают использование пакета, который начал сбоить, и позволяют маскировать существующие пакеты, поломанные или угрожающие защите. Маскирование можно делать двумя способами: с помощью файла package.mask и с помощью ключевых слов. Как демаскировать пакет при использовании этих способов описано ниже. Учтите также, что если утилите emerge передается пакет ebuild, то все виды максировки игнорируются и emerge будет пытаться включить пакет в систему. </para>
            <variablelist>
                <varlistentry>
                    <term>package.mask</term>
                    <listitem>
                        <para>Файл package.mask, в основном, блокирует использование пакетов, вызывающих проблемы или известных, как приводящие к проблемах на некоторых машинах. Он находится в каталоге /etc/portage. Пакеты можно демаскировать в файле путем добавления символа комментария (#) в начале строки, маскирующей пакет. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Ключевые слова</term>
                    <listitem>
                        <para>Ключевые слова (KEYWORDS) также используются для маскировки пакетов, находящихся на стадии тестирования. Есть определяющие архитектуру ключевые слова для каждого пакета, позволяющие системе портежей определить, с какими системами совместим пакет. Пакеты, компилирующиеся на некоторой архитектуре, но не считающиеся "стабильными", маскируются путем указания тильды (~) перед названием архитектуры. Утилита emerge проверяет значение переменной среды ACCEPT_KEYWORDS, прежде чем разрешить или запретить включение пакета, замаскированного с помощью КЛЮЧЕВЫХ СЛОВ. </para>
                        <para>Чтобы проинформировать утилиту emerge, что необходимо построить эти "тестовые" версии пакетов, можно установить переменной ACCEPT_KEYWORDS значение "~arch", где arch - одно из значений: x86, ppc, sparc, mips, alpha, arm, hppa. Например, команда ACCEPT_KEYWORDS="~x86" emerge xfree приведет к тому, что emerge будет учитывать замаскированные ключевыми словами версии XFree в качестве потоенциальных кандидатов на обновление. </para>
                        <warning>
                            <para>Не устанавливайте этой переменной значение, отличающееся от соответствующего вашей архитектуре. </para>
                        </warning>
                    </listitem>
                </varlistentry>
            </variablelist>
        </section>
        <section>
            <title>Как сообщать об ошибках</title>
            <para>Пожалуйста, сообщайте о любых обнаруженных ошибках через bugs.gentoo.org web-сайт </para>
            <para>Пожалуйста, включайте в отчет об ошибке результат, который выдает утилита emerge. </para>
        </section>
        <section>
            <title>Ссылки</title>
            <para>emerge --help, ebuild(1), ebuild(5), make.conf(5) </para>
            <para>Ряд вспомогательных приложений находится в каталоге /usr/lib/portage/bin. Пакет app-admin/gentoolkit содержит полезные сценарии, например, qpkg (средство запросов к пакетам). </para>
            <para/>
        </section>
        <section>
            <title>Файлы</title>
            <variablelist>
                <varlistentry>
                    <term>/var/cache/edb/world (/var/lib/portage/world в версиях &gt;=portage-2.0.51)</term>
                    <listitem>
                        <para>Содержит список всех указанных пользователем пакетов. Можно без опаски редактировать этот файл, добавляя пакеты, которые необходимо учитывать при обновлении класса world, и удаляя те, которые обновлять при этом не нужно. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>/etc/make.conf</term>
                    <listitem>
                        <para>Содержит переменные для процесса построения пакетов, переопределяя значения, заданные в make.globals. Именно этот файл надо редактировать вместо перечисленных далее. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>/etc/make.globals</term>
                    <listitem>
                        <para>Содержит стандартные переменные для процесса построения. Не редактируйте этот файл. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>/etc/portage/mirrors</term>
                    <listitem>
                        <screen><prompt>#</prompt> <userinput>cat /etc/portage/mirrors</userinput>
local http://192.168.0.10 http://192.168.0.1:8080
http://distfiles.gentoo.org http://distro.ibiblio.org/pub/linux/distributions/gentoo</screen>
                        <para>Содержит список зеркал, на которых будет производится поиск пакетов, запрошенных emerge. Стоит отметить, что данный список имеет приоритет выше, чем GENTOO_MIRRORS в файле /etc/make.conf, следовательно, данный список будет обрабатываться первым, причем зеркала, прописанные под словом local, будут обрабатываться самыми первыми. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>/etc/portage/package.keywords</term>
                    <listitem>
                        <screen># cat /etc/portage/package.keywords
x11-misc/xcompmgr ~x86
x11-misc/transset ~x86
app-portage/getdelta ~x86
app-portage/deltup ~x86
dev-util/bdelta ~x86
net-im/jabberd ~x86
net-wireless/wifiscanner ~x86
net-wireless/wlassistant ~x86</screen>
                        <para/>
                        <para/>
                        <para>Позволяет установить ACCESS_KEYWORDS для конкретных пакетов. Данный файл обрабатывается позже чем /etc/make.conf, следовательно его параметры будут актуальнее... </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>/etc/portage/package.use</term>
                    <listitem>
                        <screen><prompt>#</prompt> <userinput>cat /etc/portage/package.use</userinput>
x11-wm/fluxbox kde
app-misc/mc -X</screen>
                        <para>Позволяет установить USE флаги для конкретных пакетов. Данный файл обрабатывается позже чем /etc/make.conf, следовательно его параметры будут актуальнее... </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>/etc/make.profile/package</term>
                    <listitem>
                        <para>Содержит список пакетов, используемых для базовой системы. Классы system и world учитывают содержимое этого файла. Не редактируйте его. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>/etc/make.profile/make.defaults</term>
                    <listitem>
                        <para>Содержит специфические для профиля переменные для процесса построения пакетов. Не редактируйте этот файл. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>/etc/make.profile/use.defaults</term>
                    <listitem>
                        <para>Содержит список пакетов, которые, в случае установки, приводят к установке по умолчанию соответствующего флага использования (use flag). Не редактируйте этот файл. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>/etc/make.profile/virtuals</term>
                    <listitem>
                        <para>Содержит список стандартных пакетов, используемых для разрешения виртуальных зависимостей. Не редактируйте этот файл. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>/var/cache/edb/virtuals</term>
                    <listitem>
                        <para>Содержит список пакетов, используемых для разрешения виртуальных зависимостей. В случае, когда поиск виртуальных зависимостей заканчивается неудачно, можно переупорядочить записи соответствующих виртуальных зависимостей в этом файле. Первый пакет, указанный после virtual, используется для сопоставления с virtual. </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>/usr/portage/profiles/use.desc</term>
                    <listitem>
                        <para>Содержит основной список флагов USE с описаниями их функций. Не редактируйте этот файл.</para>
                    </listitem>
                </varlistentry>
            </variablelist>
        </section>
    </section>
</article>
