<?xml version="1.0" encoding="UTF-8"?>
<?oxygen RNGSchema="http://www.oasis-open.org/docbook/xml/5.0/rng/docbookxi.rng" type="xml"?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0">
    <info>
        <title>Наивные вопросы юных линуксоидов</title>
    </info>
    <section>
        <info>
            <title>Вступление</title>
        </info>
        <para>Перейдя из ОС Windows в Linux пользователи сталкиваются с кучей непонятных им вещей. Есть много вопросов которые их тревожат, но спросить они не решаються - боятся. Так давайте же поможем им поскорее разобраться с новой замечательной системой. Может и сами узнаем чего нового.Примечание: Так как Gentoo новичкам не поставить, то этот материал носит скорее пропагандистский характер </para>
    </section>
    <section>
        <title>Общие вопросы</title>
        <section>
            <info>
                <title>Как ставить программы? </title>
            </info>
            <para/>
            <para>Первая проблема которая встает перед линуксоидом это установка программ. Программы можно ставить из исходников и бинарных пакетов. На бинарниках завязаны такие дистрибутивы как RedHat, Mandrake, Fedore Core, ASP Linux, ALT Linux, Debian и прочие. С исходниками работают Gentoo Linux и *BSD-системы. </para>
            <para>Чтобы установить программу в Gentoo Linux нужно только ввести: emerge программа emerge скачает все необходимое с интернета, скомпилирует и установит. Если же программы нет в дереве портов, то придеться ставить ее из тарболла. </para>
            <para>Поправочка: В Gentoo тоже можно ставить прекомпиленные (заранее собранные) программы путем вызова команды: emerge --usepkg --getbinpkg программа или короче так: emerge -gk программа Но сборка из исходных текстов предпочтительнее. </para>
        </section>
        <section>
            <info>
                <title>Что еще за тарболл? </title>
            </info>
            <para>Все программы в исходных текстах поставляются в виде тарболлов (файлы с расширением tar.gz, tar.bz2, tbz2, tgz, впрочем последние два - большая редкость). Тарболл по своей сути - это просто архив, который можно распаковать следующими командами: tar -xvjf super_proga_0.1.tar.bz2 для tar.bz2(или tbz2) и tar -xvzf super_proga_0.1.tar.gz для tar.gz(tgz). И архив будет распакован в текущий каталог. </para>
            <para>Кстати -v - абсолютно лишнее. :) Dron </para>
            <para>Я бы сказал так, распаковка tar –zxvf , архивы bz и gz2 –jxvf, удобно запомнить, различается только j в начале. =) das </para>
            <para>Некоторым проще запоминать xzf как eXtract Zipped File. j - для bzip2 wt </para>
            <para>Дальнейшие инструкции по установке можно прочитать в файле INSTALL или README, но чаще всего установка выглядит так: ./configure make Дальше от пользователя root: make install </para>
            <para>Но пользователям Gentoo лучше прочитать следующий раздел. </para>
            <para>Gentoo Way</para>
            <para>Установка из тарболлов может показаться достаточно простой на первый взгляд, однако, она может затруднить управление пакетами и создать некоторые проблемы в дальнейшем, поэтому лучше воспользоваться мощью системой управления пакетами portage. Наверняка, о беспроблемной сборке необходимой вам программы уже позаботилось сообщество пользователей и разработчиков Gentoo. Чтобы узнать это, попробуйте найти нужную вам программу в базе портежей набрав: emerge -s [название программы] или по описанию: emerge -S [ключевое слово] что правда занимает достаточно много времени, и лучше использовать специально для этого написаные утилиты, например esearch emerge esearch eupdatedb esearch [название программы] или по описанию esearch -S [ключевое слово] так же можно проводить поиск по категориям. Например esearch -F mail-client покажет все почтовые клиенты, информация о которых есть в дереве портежей. Так же при поиске можно использовать регулярные выражения. </para>
            <para/>
            <para>Неплохим подспорьем может послужить GUI фронтенд к портежам, например Porthole(интерфейс GTK).Для любителей KDE есть Kentoo(встраивается в центр управления) и Guitoo. </para>
            <para/>
            <para>Если вам потребовалось установить программу из неофицального ebuild'а, сначала прочтите Portage_Overlay. </para>
            <para/>
            <para>Если же ebuild скрипта найти не удалось или нужно наложить дополнительные патчи, то это значит, что пора освоить написание скриптов. Для этого можно воспользоваться skel.ebuild'ом который находится с каталоге portage. Так же не повредит прочтение en:HOWTO Create an Updated Ebuild. </para>
            <para/>
            <para>Удобной средой разработки и правки ebuild скриптов является abeni </para>
            <para/>
        </section>
        <section>
            <info>
                <title>А кто такой root и как им стать?</title>
            </info>
            <para>Говоря языком Windows, root - это администратор. Но в отличие от Windows, root - абсолютный хозяин системы. Он может сделать все, даже удалить системные файлы, или произвести низкоуровневое форматирование жесткого диска. По идее, root всегда знает что делает, поэтому такая власть вполне оправданна. Рутом можно стать несколькими способами: </para>
            <para>первоначально войти систему под этим аккаунтом. </para>
            <para>через su. Для этого в консоли введите su </para>
            <para>[user@gentoo user]$su</para>
            <para> Password:</para>
            <para>[root@gentoo user]#</para>
            <para>Пользователь user должен быть в группе wheel. При вводе пароля он отображаться не будет. </para>
            <para>через sudo. Это дополнительная программа, которую можно установить командой: </para>
            <para>$ emerge sudo </para>
            <para>Ее преимущества перед обычным su заключаются в том, что можно протоколировать все выполненные команды, а значит понять, кто и как именно сделал что-то непрвильно. :) Кроме того, можно разрешить определенным пользователям выполнять только определенные команды с правами root, что существенно повышает безопасность системы. И, наконец, для использования sudo не нужно знать пароль root - достаточно помнить свой. ;) Все эти и другие настройки производятся редактированием файла конфигурации sudo - /etc/sudoers. </para>
            <para>Пользоваться ей очень просто: </para>
            <para>$ sudo команда </para>
            <para>(например, "sudo ls -l"). Если же вам нужно выполнить не одну команду, а просто временно стать root, используйте следующий синтаксис: </para>
            <para>$ sudo -s </para>
            <para>Для того, чтобы перестать быть root после этого, достаточно ввести команду </para>
            <para>$ exit </para>
        </section>
    </section>
    <section>
        <title>Секреты консоли</title>
        <section>
            <title>Основные команды</title>
            <para>Можно на 100% гарантировать, что количество команд в вашей Linux системе больше пары тысяч. Но практически все линуксоиды используют из этого количества не более 100 команд, хотя и это, пожалуй, завышенное число. Человеку, который линукс видел только на скринах, будет полезно узнать, как же использовать эту консоль. </para>
            <section>
                <title>Команда man</title>
                <para>Linux - отлично документированная система. Подробную информацию о программе, команде или основным конфигурационном файлам можно получить при помощи команды man. Например man whereis выдаст вам подробную справку по использованию команды whereis, а команда man fstab выдаст синтаксис конфигурационного файла /etc/fstab.</para>
                <para>Если вам не удалось найти нужную информацию, можно заглянуть в /usr/share/doc (в Gentoo Linux так же находится в /usr/doc). Там хранится документация программ. </para>
                <para>Примечание: Для более детальной информации обратитесь в соответствующий раздел Страницы MAN </para>
            </section>
            <section>
                <title>Команда cd</title>
                <para>Без этой команды навигация по файловой системе будет невозможна. Смысл её простой - сменить текущий каталог. А синтаксис такой: cd /home/vasya/katalog Можно использовать как абсолютные, так и относительные пути к папкам. </para>
                <para>Абсолютный путь - это путь указанный от корневого каталога(/). </para>
                <para>Относительный путь - это путь указанный относительно текущего каталога. </para>
                <para>Например, если вы находитесь в каталоге /home/vasya, то для перехода в /home/vasya/katalog вам нужно ввести только cd katalog Необходимо отметить, что в Linux нет такого понятия, как "диски". Все разделы жестких дисков, CD-приводы, сетевые диски и т.д. отображаются в виде каталогов файловой системы (обычно в /mnt).</para>
                <para>Чтобы узнать в каком каталоге вы сейчас находитесь используется команда pwd. </para>
            </section>
            <section>
                <title>Команда ls</title>
                <para>Используется для получения списка файлов и каталогов. Например, ls выведет нам содержимое текущего каталога. Для вывода информации о каталоге, в котором вы сейчас не находитесь, используется ls /etc. Наверняка вас не удовлетворят только имена файлов. Для увеличения количества выводимой информации используйте опцию "-l" ls -l. Теперь ls выведет вам много полезной информации, такой как права, время последней модификации, размер и прочее.ls -la с опцией "-a" покажет скрытые файлы (by morgoth) </para>
            </section>
            <section>
                <title>Команда cp</title>
                <para>Предназначена для копирования файлов и каталогов. Например, скопируем файл /home/vasya/katalog/linux.txt в каталог /home/vasya. Делается это так: cp /home/vasya/katalog/linux.txt /home/vasya А вдруг мы хотим чтобы файл linux.txt получил имя gentoo.txt? Тогда делаем так: cp /home/vasya/katalog/linux.txt /home/vasya/gentoo.txt По умолчанию cp не копирует каталоги. Чтож, заставим его это делать. Скопируем /home/vasya/katalog в каталог /tmp так: cp -R /home/vasya/katalog /tmp Ключ -R указывает на рекурсивное копирование. Как и в случае с файлами, можно поменять конечное имя каталога: cp -R /home/vasya/katalog /tmp/novoe_imya У cp есть еще один полезный ключ: -p. Он предназначен для сохранения всех параметров файла (владельца, прав доступа, битов suid, sgid). Рекомендуем всегда указывать ключ -p, особенно если вы частенько сидите под суперпользователем (чего делать категорически не рекомендуется). </para>
            </section>
            <section>
                <title>Команда rm</title>
                <para>Предназначена для удаления фаилов. Например, удалим файл /home/vasya/katalog/linux.txt: rm /home/vasya/katalog/linux.txt или если каталог /home/vasya/katalog текущий, тогда можно так: rm linux.txt Будте осторожны, удаленный фаил нельзя восстановить, как в Dos или Windows.</para>
                <para>Для удаления пустого каталога /home/vasya/testdir введите rmdir /home/vasya/testdir Не бойтесь указывать абсолютный путь к каталогу - будет удален только последний элемент пути. Для удаления этого же каталога рекурсивно (вместе с подкаталогами и файлами) введите rm -r /home/vasya/testdir </para>
            </section>
            <section>
                <title>Команда df</title>
                <para>Предназначена для просмотра оставшегося места на диске df -h Ключ -h позволяет увидеть вывод в удобном для человека формате (например 1K 234M 2G) </para>
            </section>
        </section>
        <section>
            <title>А как мне быть если путь или имя очень длинные?</title>
            <para>Длинные пути к файлам и каталогам - довольно частое явление. И бороться с этим достаточно легко. Все современные оболчки (aka shell) обладают возможностью автодополнения. Что это значит? Например, есть файл cd home/vasya/katalog/vtoroi_katalog/ooooooooooooochendlinnoeimyakataloga. Ясно, что вбивать имя полностью - это сомнительное удовольствие. ;) Поэтому поручим часть работы shell'у. Мы пишем только часть имени, а остальное будет дополнять шелл. Для дополнения необходимо нажать Tab. Например: cd /h&lt;TAB&gt;/v&lt;TAB&gt;/k&lt;TAB&gt;/v&lt;TAB&gt;/o&lt;TAB&gt;</para>
            <para>Примечание: в оболочке Zsh достаточно написать </para>
            <para>cd /h/v/k/v/o и нажать "Tab". Оболочка сама развернет сокращение в полный путь. Но тут могут возникнуть проблемы, в том случае, если в каталоге /home есть 2 подкаталога /home/vasya и /home/vika. Шелл не сможет понять куда же вы хотите попасть. Чтобы помочь ему нужно указать еще одну букву в пути, то есть /home/va&lt;TAB&gt;, чтобы выбор был однозначным. Если вы не помните части пути, то можете два раза нажать Tab и вы увидите список возможных вариантов. Например: ls /home/&lt;TAB&gt;&lt;TAB&gt; выведет на экран содержимое директории /home. </para>
        </section>
        <section>
            <title>Как сделать чтобы программа запущенная из терминала работала после его закрытия?</title>
            <para>Такая ситуация возникает довольно часто.Например вам необходимо обновить систему по ssh находясь далеко от своего компьютера, но удерживать связь постоянно вы не можете. Для этой цели можно использовать программу nohup. Например, так можно запустить xmms: nohup xmms Вызываемой программе можно передавать аргументы. Теперь при закрытии терминала xmms будет работать, работать и работать ;) или: xmms &amp; но это только освободит терминал. После закрытия терминала приложение завершиться. </para>
            <para>Так же можно использовать программу screen.</para>
        </section>
    </section>
    <section>
        <title>Графическая оболочка X Window</title>
        <section>
            <title>А как работать с буфером?</title>
            <para>Работа с буфером обмена в системе X Window гораздо удобнее, чем в ОС Windows. Для копирования и вставки текста делаем так: </para>
            <para>выделяем нужный текст мышкой </para>
            <para>в нужном месте щелкаем на среднюю кнопку или колесико мышки, и текст вставляется там, где курсор. </para>
            <para>Конечно, вы можете использовать и комбинации OC Windows (Ctrl+C, Ctrl+V), однако, следует помнить, что комбинация Ctrl+C экстренно остановит выполнение команды в терминале, другими словами, попытавшись скопировать вывод программы комбинацией Ctrl+C, вы рискуете убить ее выполнение. Будьте внимательнее. </para>
            <para>Возможно также использование комбинации Ctrl+Insert для копирования в буфер и Shift+Insert для вставки из него. </para>
        </section>
        <section>
            <title>Как заставить иксы стартовать при загрузке?</title>
            <para>Для этого их необходимо добавить в уровень запуска default. Для этого необходимо выполнить: rc-update add xfs default и rc-update add xdm default Первой командой мы заставили автоматически стартовать сервер шрифтов, а вторая указывает на автозапуск менеджера входа в систему. Для того, чтобы вместо xdm запускался другой менеджер входа необходимо немного отредактировать /etc/rc.conf. </para>
            <para>Файл: /etc/rc.conf </para>
            <para>..</para>
            <para>DISPLAYMANAGER="kdm"</para>
            <para>.. </para>
            <para>Теперь вместо xdm будет запускаться kdm.</para>
            <para>Файл: /etc/rc.conf </para>
            <para>..</para>
            <para>DISPLAYMANAGER="gdm"</para>
            <para>.. </para>
            <para>Теперь вместо xdm будет запускаться gdm более красивый менеджер.</para>
        </section>
    </section>
</article>
